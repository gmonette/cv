<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content='A cv() method for an object of class  "modlist",
created by the models() function. This cv() method simplifies
the process of cross-validating several models on the same set of CV folds.
models() performs some
"sanity" checks, warning if the models are of different classes, and
reporting an error if they are fit to apparently different data sets or
different response variables.'><title>Cross-Validate Several Models Fit to the Same Data — models • cv</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Cross-Validate Several Models Fit to the Same Data — models"><meta property="og:description" content='A cv() method for an object of class  "modlist",
created by the models() function. This cv() method simplifies
the process of cross-validating several models on the same set of CV folds.
models() performs some
"sanity" checks, warning if the models are of different classes, and
reporting an error if they are fit to apparently different data sets or
different response variables.'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">cv</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.0.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/cv.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/cv-extend.html">Extending the cv package</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Cross-Validate Several Models Fit to the Same Data</h1>
      
      <div class="d-none name"><code>models.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>A <code><a href="cv.html">cv</a>()</code> method for an object of class  <code>"modlist"</code>,
created by the <code>models()</code> function. This <code><a href="cv.html">cv()</a></code> method simplifies
the process of cross-validating several models on the same set of CV folds.
<code>models()</code> performs some
"sanity" checks, warning if the models are of different classes, and
reporting an error if they are fit to apparently different data sets or
different response variables.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">models</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for modList</span></span>
<span><span class="fu"><a href="cv.html">cv</a></span><span class="op">(</span><span class="va">model</span>, <span class="va">data</span>, criterion <span class="op">=</span> <span class="va">mse</span>, <span class="va">k</span>, reps <span class="op">=</span> <span class="fl">1</span>, <span class="va">seed</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for cvModList</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for cvModList</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">y</span>,</span>
<span>  xlab <span class="op">=</span> <span class="st">""</span>,</span>
<span>  <span class="va">ylab</span>,</span>
<span>  <span class="va">main</span>,</span>
<span>  axis.args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, las <span class="op">=</span> <span class="fl">3L</span><span class="op">)</span>,</span>
<span>  col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/palette.html" class="external-link">palette</a></span><span class="op">(</span><span class="op">)</span><span class="op">[</span><span class="fl">2L</span><span class="op">]</span>,</span>
<span>  lwd <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>...</dt>
<dd><p>for <code>models()</code>, two or more competing models fit to the
the same data; the several models may be named.
For <code><a href="cv.html">cv()</a></code>, additional arguments to be passed to the <code><a href="cv.html">cv()</a></code> method
applied to each model. For the <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code>
method, arguments to be passed to the <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> method for
the individual model cross-validations. For the <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code>,
method, arguments to be passed to the base <code><a href="https://rdrr.io/r/base/plot.html" class="external-link">plot</a>()</code>
function.</p></dd>


<dt>model</dt>
<dd><p>a list of regression model objects,
created by <code>models()</code>.</p></dd>


<dt>data</dt>
<dd><p>(required) the data set to which the models were fit.</p></dd>


<dt>criterion</dt>
<dd><p>the CV criterion ("cost" or lack-of-fit) function, defaults to
<code><a href="cost-functions.html">mse</a></code>.</p></dd>


<dt>k</dt>
<dd><p>the number of CV folds; may be omitted, in which case the value
will depend on the default for the <code><a href="cv.html">cv()</a></code> method invoked for the
individual models.</p></dd>


<dt>reps</dt>
<dd><p>number of replications of CV for each model.</p></dd>


<dt>seed</dt>
<dd><p>(optional) seed for R's pseudo-random-number generator,
to be used to create the same set of CV folds for all of the models;
if omitted, a seed will be randomly generated and saved.</p></dd>


<dt>quietly</dt>
<dd><p>If <code>TRUE</code> (the default), simple messages (for example about the
value to which the random-number generator seed is set), but not warnings or
errors, are suppressed.</p></dd>


<dt>x</dt>
<dd><p>an object of class <code>"cvModList"</code> to be printed or plotted.</p></dd>


<dt>y</dt>
<dd><p>the name of the element in each <code>"cv"</code> object to be
plotted; defaults to <code>"adj CV crit"</code>, if it exists, or to
<code>"CV crit"</code>.</p></dd>


<dt>xlab</dt>
<dd><p>label for the x-axis (defaults to blank).</p></dd>


<dt>ylab</dt>
<dd><p>label for the y-axis (if missing, a label is constructed).</p></dd>


<dt>main</dt>
<dd><p>main title for the graph (if missing, a label is constructed).</p></dd>


<dt>axis.args</dt>
<dd><p>a list of arguments for the <code><a href="https://rdrr.io/r/graphics/axis.html" class="external-link">axis</a>()</code>
function, used to draw the horizontal axis. In addition to
the axis arguments given explicitly, <code>side=1</code> (the horizontal
axis) and <code>at=seq(along=x)</code> (i.e., 1 to the number of models)
are used and can't be modified.</p></dd>


<dt>col</dt>
<dd><p>color for the line and points, defaults to the second
element of the color palette; see <code><a href="https://rdrr.io/r/grDevices/palette.html" class="external-link">palette</a>()</code>.</p></dd>


<dt>lwd</dt>
<dd><p>line width for the line (defaults to 2).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p><code>models()</code> returns a <code>"modList"</code> object, the
<code><a href="cv.html">cv()</a></code> method for which returns a <code>"cvModList"</code> object.</p>
    </div>
    <div class="section level2">
    <h2 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a></h2>
    
<ul><li><p><code>models()</code>: create a list of models</p></li>
<li><p><code>cv(modList)</code>: <code><a href="cv.html">cv()</a></code> method for <code>"modList"</code> objects</p></li>
<li><p><code>print(cvModList)</code>: <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> method for <code>"cvModList"</code> objects</p></li>
<li><p><code>plot(cvModList)</code>: <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> method for <code>"cvModList"</code> objects</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="cv.html">cv</a></code>, <code><a href="cvMixed.html">cvMixed</a></code>.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"Duncan"</span>, package<span class="op">=</span><span class="st">"carData"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">m1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">prestige</span> <span class="op">~</span> <span class="va">income</span> <span class="op">+</span> <span class="va">education</span>, data<span class="op">=</span><span class="va">Duncan</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">m2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">prestige</span> <span class="op">~</span> <span class="va">income</span> <span class="op">+</span> <span class="va">education</span> <span class="op">+</span> <span class="va">type</span>, data<span class="op">=</span><span class="va">Duncan</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">m3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">prestige</span> <span class="op">~</span> <span class="op">(</span><span class="va">income</span> <span class="op">+</span> <span class="va">education</span><span class="op">)</span><span class="op">*</span><span class="va">type</span>, data<span class="op">=</span><span class="va">Duncan</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">cv.models</span> <span class="op">&lt;-</span> <span class="fu"><a href="cv.html">cv</a></span><span class="op">(</span><span class="fu">models</span><span class="op">(</span>m1<span class="op">=</span><span class="va">m1</span>, m2<span class="op">=</span><span class="va">m2</span>, m3<span class="op">=</span><span class="va">m3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                 data<span class="op">=</span><span class="va">Duncan</span>, seed<span class="op">=</span><span class="fl">7949</span>, reps<span class="op">=</span><span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model m1 (averaged across 5 replications):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10-Fold Cross Validation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> method: Woodbury</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cross-validation criterion = 195.0866 (2.307011)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> bias-adjusted cross-validation criterion = 193.5434 (2.195082)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> full-sample criterion = 166.8155 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model m2 (averaged across 5 replications):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10-Fold Cross Validation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> method: Woodbury</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cross-validation criterion = 111.7281 (4.908514)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> bias-adjusted cross-validation criterion = 110.1813 (4.623137)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> full-sample criterion = 84.39899 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model m3 (averaged across 5 replications):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10-Fold Cross Validation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> method: Woodbury</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cross-validation criterion = 142.3619 (5.682756)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> bias-adjusted cross-validation criterion = 137.932 (5.264929)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> full-sample criterion = 74.45878 </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">cv.models</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="models-1.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by John Fox, Georges Monette.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

