<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Cross-Validate Several Models Fit to the Same Data — cv.modList • cv</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Cross-Validate Several Models Fit to the Same Data — cv.modList"><meta name="description" content='A cv() method for an object of class  "modlist",
created by the models() function. This cv() method simplifies
the process of cross-validating several models on the same set of CV folds
and may also be used for meta CV, where CV is used to select one from among
several models. models() performs some
"sanity" checks, warning if the models are of different classes, and
reporting an error if they are fit to apparently different data sets or
different response variables.'><meta property="og:description" content='A cv() method for an object of class  "modlist",
created by the models() function. This cv() method simplifies
the process of cross-validating several models on the same set of CV folds
and may also be used for meta CV, where CV is used to select one from among
several models. models() performs some
"sanity" checks, warning if the models are of different classes, and
reporting an error if they are fit to apparently different data sets or
different response variables.'></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">cv</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">2.0.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/cv.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/cv-extend.html">Extending the cv package</a></li>
    <li><a class="dropdown-item" href="../articles/cv-mixed.html">Cross-validating mixed-effects models</a></li>
    <li><a class="dropdown-item" href="../articles/cv-notes.html">Computational and technical notes on cross-validating regression models</a></li>
    <li><a class="dropdown-item" href="../articles/cv-selection.html">Cross-validating model selection</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/gmonette/cv/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Cross-Validate Several Models Fit to the Same Data</h1>
      <small class="dont-index">Source: <a href="https://github.com/gmonette/cv/blob/main/R/cv.modList.R" class="external-link"><code>R/cv.modList.R</code></a></small>
      <div class="d-none name"><code>cv.modList.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>A <code><a href="cv.html">cv</a>()</code> method for an object of class  <code>"modlist"</code>,
created by the <code>models()</code> function. This <code><a href="cv.html">cv()</a></code> method simplifies
the process of cross-validating several models on the same set of CV folds
and may also be used for meta CV, where CV is used to select one from among
several models. <code>models()</code> performs some
"sanity" checks, warning if the models are of different classes, and
reporting an error if they are fit to apparently different data sets or
different response variables.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for class 'modList'</span></span>
<span><span class="fu"><a href="cv.html">cv</a></span><span class="op">(</span></span>
<span>  <span class="va">model</span>,</span>
<span>  <span class="va">data</span>,</span>
<span>  criterion <span class="op">=</span> <span class="va">mse</span>,</span>
<span>  <span class="va">k</span>,</span>
<span>  reps <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  <span class="va">seed</span>,</span>
<span>  quietly <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  meta <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">models</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'cvModList'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'cvModList'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'cvModList'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">y</span>,</span>
<span>  spread <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"range"</span>, <span class="st">"sd"</span><span class="op">)</span>,</span>
<span>  confint <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  xlab <span class="op">=</span> <span class="st">""</span>,</span>
<span>  <span class="va">ylab</span>,</span>
<span>  <span class="va">main</span>,</span>
<span>  axis.args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, las <span class="op">=</span> <span class="fl">3L</span><span class="op">)</span>,</span>
<span>  col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/palette.html" class="external-link">palette</a></span><span class="op">(</span><span class="op">)</span><span class="op">[</span><span class="fl">2L</span><span class="op">]</span>,</span>
<span>  lwd <span class="op">=</span> <span class="fl">2L</span>,</span>
<span>  grid <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'cvModList'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">x</span>, row.names <span class="op">=</span> <span class="cn">NULL</span>, optional <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-model">model<a class="anchor" aria-label="anchor" href="#arg-model"></a></dt>
<dd><p>a list of regression model objects,
created by <code>models()</code>.</p></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>(required) the data set to which the models were fit.</p></dd>


<dt id="arg-criterion">criterion<a class="anchor" aria-label="anchor" href="#arg-criterion"></a></dt>
<dd><p>the CV criterion ("cost" or lack-of-fit) function, defaults to
<code><a href="cost-functions.html">mse</a></code>.</p></dd>


<dt id="arg-k">k<a class="anchor" aria-label="anchor" href="#arg-k"></a></dt>
<dd><p>the number of CV folds; may be omitted, in which case the value
will depend on the default for the <code><a href="cv.html">cv()</a></code> method invoked for the
individual models.</p></dd>


<dt id="arg-reps">reps<a class="anchor" aria-label="anchor" href="#arg-reps"></a></dt>
<dd><p>number of replications of CV for each model (default is 1).</p></dd>


<dt id="arg-seed">seed<a class="anchor" aria-label="anchor" href="#arg-seed"></a></dt>
<dd><p>(optional) seed for R's pseudo-random-number generator,
to be used to create the same set of CV folds for all of the models;
if omitted, a seed will be randomly generated and saved. Not used for
leave-one-out CV.</p></dd>


<dt id="arg-quietly">quietly<a class="anchor" aria-label="anchor" href="#arg-quietly"></a></dt>
<dd><p>if <code>TRUE</code> (the default), simple messages (for example about the
value to which the random-number generator seed is set), but not warnings or
errors, are suppressed.</p></dd>


<dt id="arg-meta">meta<a class="anchor" aria-label="anchor" href="#arg-meta"></a></dt>
<dd><p>if <code>TRUE</code> (the default is <code>FALSE</code>), cross-validation
is performed recursively to select a "best" model deleting each fold in turn
by calculating the CV estimate of the criterion for the remaining folds;
this is equivalent to employing the <code><a href="cv.function.html">selectModelList</a>()</code> model-selection
procedure.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>for <code>cv.modList()</code>, additional arguments to be passed to the <code><a href="cv.html">cv()</a></code> method
applied to each model.</p>
<p>For <code>models()</code>, two or more competing models fit to the
the same data; the several models may be named. It is also possible
to specify a single argument, which should then be list of models
(which has the effect of turning a list of models into a <code>"modList"</code>
object).</p>
<p>For the <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> method, arguments to be passed to the <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> method for
the individual model cross-validations.</p>
<p>For the <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> method, arguments to be passed to the base <code><a href="https://rdrr.io/r/base/plot.html" class="external-link">plot</a>()</code>
function.</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>an object of class <code>"cvModList"</code> to be printed or plotted.</p></dd>


<dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>an object to summarize.</p></dd>


<dt id="arg-y">y<a class="anchor" aria-label="anchor" href="#arg-y"></a></dt>
<dd><p>the name of the element in each <code>"cv"</code> object to be
plotted; defaults to <code>"adj CV crit"</code>, if it exists, or to
<code>"CV crit"</code>.</p></dd>


<dt id="arg-spread">spread<a class="anchor" aria-label="anchor" href="#arg-spread"></a></dt>
<dd><p>if <code>"range"</code>, the default, show the range of CV criteria
for each model along with their average; if <code>"sd"</code>, show the average
plus or minus 1 standard deviation.</p></dd>


<dt id="arg-confint">confint<a class="anchor" aria-label="anchor" href="#arg-confint"></a></dt>
<dd><p>if <code>TRUE</code> (the default) and if confidence intervals are
in any of the <code>"cv"</code> objects, then plot the confidence intervals around the
CV criteria.</p></dd>


<dt id="arg-xlab">xlab<a class="anchor" aria-label="anchor" href="#arg-xlab"></a></dt>
<dd><p>label for the x-axis (defaults to blank).</p></dd>


<dt id="arg-ylab">ylab<a class="anchor" aria-label="anchor" href="#arg-ylab"></a></dt>
<dd><p>label for the y-axis (if missing, a label is constructed).</p></dd>


<dt id="arg-main">main<a class="anchor" aria-label="anchor" href="#arg-main"></a></dt>
<dd><p>main title for the graph (if missing, a label is constructed).</p></dd>


<dt id="arg-axis-args">axis.args<a class="anchor" aria-label="anchor" href="#arg-axis-args"></a></dt>
<dd><p>a list of arguments for the <code><a href="https://rdrr.io/r/graphics/axis.html" class="external-link">axis</a>()</code>
function, used to draw the horizontal axis. In addition to
the axis arguments given explicitly, <code>side=1</code> (the horizontal
axis) and <code>at=seq(along=x)</code> (i.e., 1 to the number of models)
are used and can't be modified.</p></dd>


<dt id="arg-col">col<a class="anchor" aria-label="anchor" href="#arg-col"></a></dt>
<dd><p>color for the line and points, defaults to the second
element of the color palette; see <code><a href="https://rdrr.io/r/grDevices/palette.html" class="external-link">palette</a>()</code>.</p></dd>


<dt id="arg-lwd">lwd<a class="anchor" aria-label="anchor" href="#arg-lwd"></a></dt>
<dd><p>line width for the line (defaults to 2).</p></dd>


<dt id="arg-grid">grid<a class="anchor" aria-label="anchor" href="#arg-grid"></a></dt>
<dd><p>if <code>TRUE</code> (the default), include grid lines on the graph.</p></dd>


<dt id="arg-row-names">row.names<a class="anchor" aria-label="anchor" href="#arg-row-names"></a></dt>
<dd><p>optional row names for the result,
defaults to <code>NULL</code>.</p></dd>


<dt id="arg-optional">optional<a class="anchor" aria-label="anchor" href="#arg-optional"></a></dt>
<dd><p>to match the <code><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a>()</code> generic function;
if <code>FALSE</code> (the default is <code>TRUE</code>), then the names of the columns
of the returned data frame, including the names of coefficients,
are coerced to syntactically correct names.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>models()</code> returns a <code>"modList"</code> object, the
<code><a href="cv.html">cv()</a></code> method for which returns a <code>"cvModList"</code> object,
or, when <code>meta=TRUE</code>, an object of class <code>c("cvSelect", "cv")</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a></h2>

<ul><li><p><code>cv(modList)</code>: <code><a href="cv.html">cv()</a></code> method for <code>"modList"</code> objects.</p></li>
<li><p><code>models()</code>: create a list of models.</p></li>
<li><p><code>print(cvModList)</code>: <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> method for <code>"cvModList"</code> objects.</p></li>
<li><p><code>summary(cvModList)</code>: <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> method for <code>"cvModList"</code> objects.</p></li>
<li><p><code>plot(cvModList)</code>: <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> method for <code>"cvModList"</code> objects.</p></li>
<li><p><code>as.data.frame(cvModList)</code>: <code><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame()</a></code> method for
<code>"cvModList"</code> objects.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="cv.html">cv</a></code>, <code><a href="cv.merMod.html">cv.merMod</a></code>,
<code><a href="cv.function.html">selectModelList</a></code>.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"carData"</span>, quietly<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/source.html" class="external-link">withAutoprint</a></span><span class="op">(</span><span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"Duncan"</span>, package<span class="op">=</span><span class="st">"carData"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">m1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">prestige</span> <span class="op">~</span> <span class="va">income</span> <span class="op">+</span> <span class="va">education</span>, data<span class="op">=</span><span class="va">Duncan</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">m2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">prestige</span> <span class="op">~</span> <span class="va">income</span> <span class="op">+</span> <span class="va">education</span> <span class="op">+</span> <span class="va">type</span>, data<span class="op">=</span><span class="va">Duncan</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">m3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">prestige</span> <span class="op">~</span> <span class="op">(</span><span class="va">income</span> <span class="op">+</span> <span class="va">education</span><span class="op">)</span><span class="op">*</span><span class="va">type</span>, data<span class="op">=</span><span class="va">Duncan</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">cv.models</span> <span class="op">&lt;-</span> <span class="fu"><a href="cv.html">cv</a></span><span class="op">(</span><span class="fu">models</span><span class="op">(</span>m1<span class="op">=</span><span class="va">m1</span>, m2<span class="op">=</span><span class="va">m2</span>, m3<span class="op">=</span><span class="va">m3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                 data<span class="op">=</span><span class="va">Duncan</span>, seed<span class="op">=</span><span class="fl">7949</span>, reps<span class="op">=</span><span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">D.cv.models</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">cv.models</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">D.cv.models</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">D.cv.models</span>, <span class="va">criterion</span> <span class="op">~</span> <span class="va">model</span> <span class="op">+</span> <span class="va">rep</span>, include<span class="op">=</span><span class="st">"folds"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">cv.models</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">cv.models.ci</span> <span class="op">&lt;-</span> <span class="fu"><a href="cv.html">cv</a></span><span class="op">(</span><span class="fu">models</span><span class="op">(</span>m1<span class="op">=</span><span class="va">m1</span>, m2<span class="op">=</span><span class="va">m2</span>, m3<span class="op">=</span><span class="va">m3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                    data<span class="op">=</span><span class="va">Duncan</span>, seed<span class="op">=</span><span class="fl">5963</span>, confint<span class="op">=</span><span class="cn">TRUE</span>, level<span class="op">=</span><span class="fl">0.50</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>                 <span class="co"># nb: n too small for accurate CIs</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">cv.models.ci</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">cv.models.meta</span> <span class="op">&lt;-</span> <span class="fu"><a href="cv.html">cv</a></span><span class="op">(</span><span class="fu">models</span><span class="op">(</span>m1<span class="op">=</span><span class="va">m1</span>, m2<span class="op">=</span><span class="va">m2</span>, m3<span class="op">=</span><span class="va">m3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      data<span class="op">=</span><span class="va">Duncan</span>, seed<span class="op">=</span><span class="fl">5963</span>,</span></span>
<span class="r-in"><span>                      meta<span class="op">=</span><span class="cn">TRUE</span>, save.model<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="cv.html">cvInfo</a></span><span class="op">(</span><span class="va">cv.models.meta</span>, <span class="st">"selected model"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"install the 'carData' package to run these examples\n"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; data("Duncan", package = "carData")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; m1 &lt;- lm(prestige ~ income + education, data = Duncan)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; m2 &lt;- lm(prestige ~ income + education + type, data = Duncan)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; m3 &lt;- lm(prestige ~ (income + education) * type, data = Duncan)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; (cv.models &lt;- cv(models(m1 = m1, m2 = m2, m3 = m3), data = Duncan, seed = 7949, </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +     reps = 5))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model m1 averaged across 5 replications:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cross-validation criterion = 195.0866 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model m2 averaged across 5 replications:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cross-validation criterion = 111.7281 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model m3 averaged across 5 replications:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cross-validation criterion = 142.3619 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; D.cv.models &lt;- as.data.frame(cv.models)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; head(D.cv.models)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   model rep fold criterion adjusted.criterion full.criterion coef.Intercept</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    m1   1    0   198.534             196.89         166.82        -6.0647</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    m1   1    1   139.227                 NA             NA        -5.3264</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    m1   1    2   328.311                 NA             NA        -7.4825</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    m1   1    3    87.649                 NA             NA        -5.1543</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5    m1   1    4   133.564                 NA             NA        -5.9934</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6    m1   1    5    55.317                 NA             NA        -5.4389</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   coef.income coef.education coef.typeprof coef.typewc coef.income:typeprof</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     0.59873        0.54583            NA          NA                   NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     0.57458        0.55107            NA          NA                   NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     0.53963        0.59419            NA          NA                   NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     0.60090        0.53586            NA          NA                   NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     0.54033        0.59515            NA          NA                   NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     0.57504        0.54903            NA          NA                   NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   coef.income:typewc coef.education:typeprof coef.education:typewc</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                 NA                      NA                    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                 NA                      NA                    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                 NA                      NA                    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                 NA                      NA                    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                 NA                      NA                    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6                 NA                      NA                    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; summary(D.cv.models, criterion ~ model + rep, include = "folds")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      rep</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> model        1        2        3        4        5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    m1 204.7489 197.8415 192.9138 199.5759 200.2259</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    m2 110.5324 109.8870 121.7147 111.1913 120.0575</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    m3 141.9428 145.7092 143.0177 143.1847 155.0245</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; plot(cv.models)</span>
<span class="r-plt img"><img src="cv.modList-1.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; (cv.models.ci &lt;- cv(models(m1 = m1, m2 = m2, m3 = m3), data = Duncan, </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +     seed = 5963, confint = TRUE, level = 0.5))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model m1:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cross-validation criterion = 196.8033 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model m2:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cross-validation criterion = 112.0172 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model m3:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cross-validation criterion = 145.4901 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; plot(cv.models.ci)</span>
<span class="r-plt img"><img src="cv.modList-2.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; (cv.models.meta &lt;- cv(models(m1 = m1, m2 = m2, m3 = m3), data = Duncan, </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +     seed = 5963, meta = TRUE, save.model = TRUE))</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> R RNG seed set to 5963</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cross-validation criterion = 112.0172 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; cvInfo(cv.models.meta, "selected model")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> lm(formula = prestige ~ income + education + type, data = Duncan)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Coefficients:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)       income    education     typeprof       typewc  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     -0.1850       0.5975       0.3453      16.6575     -14.6611  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by John Fox, Georges Monette.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

